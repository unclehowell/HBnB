{"version":3,"sources":["wc-square.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","indexOf","jQuery","document","ready","$","window","WC_Square_Payment_Form_Handler","args","this","set_payment_fields","bind","get_form_params","handle_input_event","handle_verify_buyer_response","id","id_dasherized","csc_required","enabled_card_types","square_card_types","ajax_log_nonce","ajax_url","application_id","currency_code","general_error","input_styles","is_3ds_enabled","is_3d_secure_enabled","is_add_payment_method_page","is_checkout_registration_enabled","is_user_logged_in","location_id","logging_enabled","form","handle_checkout_page","handle_pay_page","log","handle_add_payment_method_page","params","body","on","val","payment_form","recalculateSize","value","_this","handle_saved_payment_methods","validate_payment_data","$new_payment_method_selection","form_handler","change","slideUp","slideDown","is","show_save_payment_checkbox","hide_save_payment_checkbox","_this2","submit","_this3","_","field","ref","form_fields","attr","replaceWith","handle_form_loaded","SqPaymentForm","build","_this4","card_number","expiration","csc","postal_code","applicationId","locationId","cardNumber","elementId","placeholder","data","expirationDate","cvv","postalCode","inputClass","inputStyles","callbacks","inputEventReceived","event","cardNonceResponseReceived","errors","nonce","cardData","handle_card_nonce_response","unsupportedBrowserDetected","handle_unsupported_browser","paymentFormLoaded","setPostalCode","addClass","$input","eventType","handle_card_brand_change","cardBrand","brand","card_class","c","replace","call","tokenized_card_id","has_nonce","get_tokenized_payment_method_id","has_verification_token","block_ui","verifyBuyer","get_verification_details","requestCardNonce","find","message","handle_errors","log_data","last_4","exp_month","exp_year","billing_postal_code","verification_result","token","ref1","ref2","ref3","ref4","ref5","ref6","ref7","ref8","ref9","verification_details","billingContact","familyName","givenName","email","country","region","city","phone","addressLines","intent","get_intent","amount","get_amount","currencyCode","$save_method_input","save_payment_method","messages","_this5","arguments","undefined","console","error","each","index","type","push","render_errors","unblock_ui","remove","prepend","join","removeClass","unblock","blur","animate","scrollTop","offset","top","block","overlayCSS","background","opacity","$parent_row","closest","hide","next","show","ajax_data","action","security","ajax","url"],"mappings":"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","file":"wc-square.min.js"}